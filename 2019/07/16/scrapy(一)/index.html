<!DOCTYPE html>





<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.3.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.3.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.3.0">
  <link rel="mask-icon" href="/images/logo.svg?v=7.3.0" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.3.0">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '7.3.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: '复制',
      copy_success: '复制成功',
      copy_failure: '复制失败'
    }
  };
</script>

  <meta name="description" content="scrapy，了解一下">
<meta name="keywords" content="python,scrapy">
<meta property="og:type" content="article">
<meta property="og:title" content="Scrapy">
<meta property="og:url" content="https://www.Gsuhy.cn/2019/07/16/scrapy(一)/index.html">
<meta property="og:site_name" content="Scorpio">
<meta property="og:description" content="scrapy，了解一下">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-08-18T03:30:35.845Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Scrapy">
<meta name="twitter:description" content="scrapy，了解一下">
  <link rel="canonical" href="https://www.Gsuhy.cn/2019/07/16/scrapy(一)/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>Scrapy | Scorpio</title>
  <meta name="generator" content="Hexo 3.9.0">
  








  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">
  <div class="container use-motion">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Scorpio</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">Gsuhy</p>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>
  </ul>

    

</nav>
</div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content page-post-detail">
            

  <div id="posts" class="posts-expand">
    

  <article class="post" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://www.Gsuhy.cn/2019/07/16/scrapy(一)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Gsuhy">
      <meta itemprop="description" content="每个人都应该拥有自己的梦想">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Scorpio">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">Scrapy

          
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              
                
              

              <time title="创建时间：2019-07-16 23:04:30" itemprop="dateCreated datePublished" datetime="2019-07-16T23:04:30+08:00">2019-07-16</time>
            </span>
          
            

            
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2019-08-18 11:30:35" itemprop="dateModified" datetime="2019-08-18T11:30:35+08:00">2019-08-18</time>
              </span>
            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a></span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>scrapy，了解一下<a id="more"></a></p>
<h1 id="Scrapy之路-一"><a href="#Scrapy之路-一" class="headerlink" title="Scrapy之路(一)"></a>Scrapy之路(一)</h1><p>前面安装什么的我就不说了，一大堆坑，坑了我两天才终于把Scrapy安装好，踩的坑网上都有怎么填我就不详细说了。开始正文学习。</p>
<h2 id="全局命令"><a href="#全局命令" class="headerlink" title="全局命令"></a>全局命令</h2><h3 id="startprojiect"><a href="#startprojiect" class="headerlink" title="startprojiect"></a>startprojiect</h3><p>语法：<code>scrapy startproject &lt;projectname&gt;</code><br>在当前目录下创建一个自己命名的scrapy项目</p>
<h3 id="settings"><a href="#settings" class="headerlink" title="settings"></a>settings</h3><p>语法：<code>scrapy setting [options]</code><br>运行一些设定</p>
<h3 id="runspider"><a href="#runspider" class="headerlink" title="runspider"></a>runspider</h3><p>语法：<code>scrapy runspider &lt;spiderfile.py&gt;</code><br>在未创建项目的情况下，运行一个编写在python文件中的spider</p>
<h3 id="shell"><a href="#shell" class="headerlink" title="shell"></a>shell</h3><p>语法：<code>scrapy shell [url]</code><br>启动<code>Scrpy shell</code>,如果给定url就运行指定的url，如果没有就只启动交互式命令行</p>
<h3 id="fetch"><a href="#fetch" class="headerlink" title="fetch"></a>fetch</h3><p>语法：<code>scrapy fetch &lt;url&gt;</code><br>使用Scrapy下载器下载给定的url，并且将获取的内容输出。也就是打印url 的html代码。</p>
<h3 id="view"><a href="#view" class="headerlink" title="view"></a>view</h3><p>语法：<code>scrapy view &lt;url&gt;</code><br>在你的默认浏览器中打开给定的URL，并以Scrapy spider获取到的形式展现。 有些时候spider获取到的页面和普通用户看到的并不相同，一些动态加载的内容是看不到的， 因此该命令可以用来检查spider所获取到的页面。</p>
<h3 id="version"><a href="#version" class="headerlink" title="version"></a>version</h3><p>语法：<code>scrapy version [-v]</code><br>输出scrapy的版本</p>
<h2 id="项目命令"><a href="#项目命令" class="headerlink" title="项目命令"></a>项目命令</h2><h3 id="crawl"><a href="#crawl" class="headerlink" title="crawl"></a>crawl</h3><p>语法:：<code>scrapy crawl &lt;spider_name&gt;</code><br>使用你项目中的spider进行爬取，即启动你的项目。这个命令将会经常用到，我们会在后面的内容中经常使用。</p>
<h3 id="check"><a href="#check" class="headerlink" title="check"></a>check</h3><p>语法:：<code>crapy check [-l] &lt;spider&gt;</code><br>运行contract检查，检查你项目中的错误之处。</p>
<h3 id="list"><a href="#list" class="headerlink" title="list"></a>list</h3><p>语法：<code>scrapy list</code><br>列出当前项目中所有可用的spider。每行输出一个spider。</p>
<h3 id="genspider"><a href="#genspider" class="headerlink" title="genspider"></a>genspider</h3><p>语法：<code>scrapy genspider [-t template] &lt;name&gt; &lt;domain&gt;</code><br>在当前项目中创建spider。该方法可以使用提前定义好的模板来生成spider。您也可以自己创建spider的源码文件。</p>
<h2 id="Spiders"><a href="#Spiders" class="headerlink" title="Spiders"></a>Spiders</h2><p>Spider类定义了如何爬取某个网站。包括了爬取的动作(比如是否跟进链接)以及如何从网页的内容中提取结构化数据(爬取item)。也就是说，Spider是定义爬取的动作和分析某个网页的地方。<br>大致工作流程是这样的：</p>
<ul>
<li>以初始的URL初始化Request,并设置回调函数，当该request下载完毕并返回时，将生成response，并作为参数传给回调函数，spider中初始的request是通过<code>start_requests()</code>来获取。<code>start_requests()</code>获取<code>start_urls</code>中的url，并以parse以回调函数生成request</li>
<li>在回调函数内分析返回的网页内容，可以返回item对象，或者dict或者request，以及是一个包含三者的可迭代的容器，返回的request对象之后会经过scrapy处理，下载相应的内容，并调用设置的callback函数</li>
<li>在回调函数内，可以通过lxml,bs4,xpath,css等方法获取想要的内容生成item</li>
<li>最后将Item传递给pipeline处理</li>
</ul>
<p>在运行<code>crawl</code>的时候可以添加<code>-a</code>传递spider参数。<br><code>scrapy crawl myspider -a category=electronics</code></p>
<p>spider在构造器(constructor)中获取参数:</p>
<pre><code>import scrapy

class MySpider(Spider):
    name = &#39;myspider&#39;

    def __init__(self, category=None, *args, **kwargs):
        super(MySpider, self).__init__(*args, **kwargs)
        self.start_urls = [&#39;http://www.example.com/categories/%s&#39; % category]</code></pre><h3 id="name"><a href="#name" class="headerlink" title="name"></a>name</h3><p>定义spider名字的字符串(string)。spider的名字定义了Scrapy如何定位(并初始化)spider，所以其必须是唯一的。 不过您可以生成多个相同的spider实例(instance)，这没有任何限制。 name是spider最重要的属性，而且是必须的。</p>
<p>如果该spider爬取单个网站(single domain)，一个常见的做法是以该网站(domain)(加或不加 后缀 )来命名spider。 例如，如果spider爬取 mywebsite.com ，该spider通常会被命名为 mywebsite 。</p>
<h3 id="allowed-domains"><a href="#allowed-domains" class="headerlink" title="allowed_domains"></a>allowed_domains</h3><p>可选。包含了spider允许爬取的域名(domain)列表(list)。 当 OffsiteMiddleware 启用时， 域名不在列表中的URL不会被跟进。</p>
<h3 id="start-urls"><a href="#start-urls" class="headerlink" title="start_urls"></a>start_urls</h3><p>URL列表。当没有制定特定的URL时，spider将从该列表中开始进行爬取。 因此，第一个被获取到的页面的URL将是该列表之一。 后续的URL将会从获取到的数据中提取。</p>
<h3 id="start-requests"><a href="#start-requests" class="headerlink" title="start_requests()"></a>start_requests()</h3><p>该方法必须返回一个可迭代对象(iterable)。该对象包含了spider用于爬取的第一个Request。<br>当spider启动爬取并且未制定URL时，该方法被调用。 当指定了URL时，make_requests_from_url() 将被调用来创建Request对象。 该方法仅仅会被Scrapy调用一次，因此您可以将其实现为生成器。<br>该方法的默认实现是使用 start_urls 的url生成Request。</p>
<h3 id="parse-response"><a href="#parse-response" class="headerlink" title="parse(response)"></a>parse(response)</h3><p>当response没有指定回调函数时，该方法是Scrapy处理下载的response的默认方法。<br>parse 负责处理response并返回处理的数据以及(/或)跟进的URL。 Spider 对其他的Request的回调函数也有相同的要求。<br>该方法及其他的Request回调函数必须返回一个包含 Request 及(或) Item 的可迭代的对象。<br>参数:    <code>response (Response)</code> – 用于分析的response</p>
<h3 id="closed-reason"><a href="#closed-reason" class="headerlink" title="closed(reason)"></a>closed(reason)</h3><p>当spider关闭时，该函数被调用。</p>
<h2 id="Selector-选择器"><a href="#Selector-选择器" class="headerlink" title="Selector 选择器"></a>Selector 选择器</h2><p>Scrapy提取数据有自己的一套机制，被称作选择器（selectors）,通过特定的Xpath或者CSS表达式来选择HTML文件的某个部分<br>Xpath是专门在XML文件中选择节点的语言，也可以用在HTML上。</p>
<h3 id="XPath选择器"><a href="#XPath选择器" class="headerlink" title="XPath选择器"></a>XPath选择器</h3><ul>
<li><code>nodeName</code>：选取此节点的所有节点</li>
<li><code>/</code>：从根节点选取</li>
<li><code>//</code>：从匹配选择的当前节点选择文档中的节点，不考虑它 们的位置</li>
<li><code>.</code>：选择当前节点</li>
<li><code>..</code> ：选取当前节点的父节点</li>
<li><code>@</code>：选取属性</li>
<li><code>*</code> ：匹配任何元素节点</li>
<li><code>@*</code>：匹配任何属性节点</li>
<li><code>Node()</code>：匹配任何类型的节点</li>
</ul>
<h3 id="CSS选择器"><a href="#CSS选择器" class="headerlink" title="CSS选择器"></a>CSS选择器</h3><p>CSS层叠样式表，语法由两个主要部分组成：选择器，一条或多条声明<br><code>Selector {declaration1;declaration2;……}</code></p>
<p>下面为常用的使用方法：</p>
<table>
<thead>
<tr>
<th align="left">declaration1</th>
<th align="right">declaration2</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">.class</td>
<td align="right">.color</td>
<td align="center">选择class=”color”的所有元素</td>
</tr>
<tr>
<td align="left">*</td>
<td align="right">*</td>
<td align="center">选择所有元素</td>
</tr>
<tr>
<td align="left">element</td>
<td align="right">p</td>
<td align="center">选择所有P元素</td>
</tr>
<tr>
<td align="left">element,element</td>
<td align="right">div,p</td>
<td align="center">选择所有div元素和所有p元素</td>
</tr>
<tr>
<td align="left">element,element</td>
<td align="right">div p</td>
<td align="center">选择div标签内部的所有p元素</td>
</tr>
<tr>
<td align="left">[attribute]</td>
<td align="right">[target]</td>
<td align="center">选择带有targe属性的所有元素</td>
</tr>
<tr>
<td align="left">[arrtibute=value]</td>
<td align="right">[target=_blank]</td>
<td align="center">选择target=”_blank”的所有元素</td>
</tr>
<tr>
<td align="left">id</td>
<td align="right">info</td>
<td align="center">选择id=”info”的所有元素</td>
</tr>
</tbody></table>
<h2 id="scrapy之数据项Item"><a href="#scrapy之数据项Item" class="headerlink" title="scrapy之数据项Item"></a>scrapy之数据项Item</h2><p>简单来说，就是从非结构化的数据源（web页面）提取出结构化的数据。为了定义常见的输出数据格式，Scrapy提供了Item类。Item对象是一种简单的容器，用来搜集爬取到的数据。它提供了一个类似于字典的API，具有方便的语法来声明它们的可用字段。</p>
<p>各种Scrapy组件使用Item提供的额外信息：导出器查看已声明的字段，来找出列进行导出；通过Item字段的元数据使序列化可定制；trackref跟踪Item实例来帮助查）<a href="https://docs.scrapy.org/en/latest/topics/leaks.html#topics-leaks-trackrefs" target="_blank" rel="noopener">内存泄漏</a>；等等</p>
<h3 id="声明数据项"><a href="#声明数据项" class="headerlink" title="声明数据项"></a>声明数据项</h3><pre><code>import scrapy
class A(scrapy.Item):
    name = scrapy.Filed()
    price = scrapy.Filed()
    stock = scrapy.Filed()
    last_updated = scrapy.Field(serializer=str)</code></pre><p>Field对象被用来指定每个字段的元数据。比如，上面的示例中演示了last_updated字段的序列化函数。</p>
<p>你可以为每个字段指定任何种类的元数据。Field对象接受的值是没有限制的。出于同样的原因，所有可用的元数据关键字没有引用列表。每一个在Field对象中定义的关键字，都可能会被不同的组件使用，并且仅仅只有这些组件知道这些关键字。你也可以根据你的需求，在你的项目中使用其他Field关键字。Field对象的主要目的在于，提供一种方式在某个地方来定义所有的字段元数据。通常而言，那些行为依赖于每个字段的组件使用某些字段关键字来配置该行为。你必须参考它们的文档，以查看每个组件使用哪些元数据关键字。</p>
<p>需要注意的是，用于声明Item的Field对象不会被指定为类属性。相反，可以通过<code>Item.fields</code>属性来访问它们。<br>比如用上面代码中声明的A：</p>
<pre><code>a = A(name=&quot;Gsuhy&quot;,price=100)
print(a)
-----------
{&#39;name&#39;: &#39;Gsuhy&#39;, &#39;price&#39;: 100}</code></pre><p>如果要获取字段的值，就用字典的方法访问就好了。</p>
<h2 id="数据项加载器"><a href="#数据项加载器" class="headerlink" title="数据项加载器"></a>数据项加载器</h2><p>数据项提供了一个容器，用于存储爬取到的数据。而数据项加载器提供了填充该容器的机制。<br>为了使用一个数据项加载器，首先你必须初始化它。你既可以使用类似于字典的对象（比如Item或者字典）来初始化它，也可以不使用它——在这种情况下，使用<code>ItemLoader.default_item_class</code>属性中指定的Item类，在数据项加载器构造函数中自动实例化一个Item。</p>
<p>然后，你可以在数据项加载器中收集值了，典型方式就是使用选择器<code>Selector</code>。你可以对同样的Item字段中添加不止一个值；数据项加载器自己会知道如何在以后使用适当的处理函数“连接”这些值。</p>
<pre><code>from scrapy.laoder import ItemLoader
from myproject.items import Product


def parse(self, response):
    l = ItemLoader(item=Product(), response=response)
    l.add_xpath(&#39;name&#39;, &#39;//div[@class=&quot;product_name&quot;]&#39;)
    l.add_xpath(&#39;name&#39;, &#39;//div[@class=&quot;product_title&quot;]&#39;)
    l.add_xpath(&#39;price&#39;, &#39;//p[@id=&quot;price&quot;]&#39;)
    l.add_css(&#39;stock&#39;, &#39;p#stock]&#39;)
    l.add_value(&#39;last_updated&#39;, &#39;today&#39;)  # 你也可以使用文字值
    return l.load_item()</code></pre><p>可以看到 ，name字段可以从2个不同的Xpath位置得到<br>换句话说，通过使用add_xpath()函数从两个XPath位置提取数据以便收集数据。随后，这个数据将分配给name字段。</p>
<p>然后，对price和stock字段使用类似的调用（后者使用带有<code>add_css()</code>函数的CSS选择器），最后使用不同的函数<code>add_value()</code>直接用字面值（today）填充last_updated字段。</p>
<p>最后，在收集所有数据时，将调用<code>ItemLoader.load_item()</code>函数，该函数实际返回先前调用<code>add_xpath()</code>、<code>add_css()</code>、<code>add_value()</code>函数提取和收集的数据来填充数据项。</p>

    </div>

    
    
    
        
      

      <footer class="post-footer">
          
            
          
          <div class="post-tags">
            
              <a href="/tags/python/" rel="tag"># python</a>
            
              <a href="/tags/scrapy/" rel="tag"># scrapy</a>
            
          </div>
        

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/2019/07/16/nginx/" rel="next" title="Nginx">
                  <i class="fa fa-chevron-left"></i> Nginx
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/2019/07/20/sqli-labs训练(11-20)/" rel="prev" title="sqli-labs训练（less11-20）">
                  sqli-labs训练（less11-20） <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        
      </footer>
    
  </div>
  
  
  
  </article>

  </div>


          </div>
          

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">
        
        
        
        
      

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc" data-target="post-toc-wrap">
          文章目录
        </li>
        <li class="sidebar-nav-overview" data-target="site-overview-wrap">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Scrapy之路-一"><span class="nav-number">1.</span> <span class="nav-text">Scrapy之路(一)</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#全局命令"><span class="nav-number">1.1.</span> <span class="nav-text">全局命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#startprojiect"><span class="nav-number">1.1.1.</span> <span class="nav-text">startprojiect</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#settings"><span class="nav-number">1.1.2.</span> <span class="nav-text">settings</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#runspider"><span class="nav-number">1.1.3.</span> <span class="nav-text">runspider</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#shell"><span class="nav-number">1.1.4.</span> <span class="nav-text">shell</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#fetch"><span class="nav-number">1.1.5.</span> <span class="nav-text">fetch</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#view"><span class="nav-number">1.1.6.</span> <span class="nav-text">view</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#version"><span class="nav-number">1.1.7.</span> <span class="nav-text">version</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#项目命令"><span class="nav-number">1.2.</span> <span class="nav-text">项目命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#crawl"><span class="nav-number">1.2.1.</span> <span class="nav-text">crawl</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#check"><span class="nav-number">1.2.2.</span> <span class="nav-text">check</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#list"><span class="nav-number">1.2.3.</span> <span class="nav-text">list</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#genspider"><span class="nav-number">1.2.4.</span> <span class="nav-text">genspider</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spiders"><span class="nav-number">1.3.</span> <span class="nav-text">Spiders</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#name"><span class="nav-number">1.3.1.</span> <span class="nav-text">name</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#allowed-domains"><span class="nav-number">1.3.2.</span> <span class="nav-text">allowed_domains</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#start-urls"><span class="nav-number">1.3.3.</span> <span class="nav-text">start_urls</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#start-requests"><span class="nav-number">1.3.4.</span> <span class="nav-text">start_requests()</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#parse-response"><span class="nav-number">1.3.5.</span> <span class="nav-text">parse(response)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#closed-reason"><span class="nav-number">1.3.6.</span> <span class="nav-text">closed(reason)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Selector-选择器"><span class="nav-number">1.4.</span> <span class="nav-text">Selector 选择器</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#XPath选择器"><span class="nav-number">1.4.1.</span> <span class="nav-text">XPath选择器</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#CSS选择器"><span class="nav-number">1.4.2.</span> <span class="nav-text">CSS选择器</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#scrapy之数据项Item"><span class="nav-number">1.5.</span> <span class="nav-text">scrapy之数据项Item</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#声明数据项"><span class="nav-number">1.5.1.</span> <span class="nav-text">声明数据项</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数据项加载器"><span class="nav-number">1.6.</span> <span class="nav-text">数据项加载器</span></a></li></ol></li></ol></div>
        
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Gsuhy</p>
  <div class="site-description motion-element" itemprop="description">每个人都应该拥有自己的梦想</div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">31</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
          
            <a href="/categories/">
          
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">13</span>
        <span class="site-state-item-name">分类</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
          
            <a href="/tags/">
          
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">15</span>
        <span class="site-state-item-name">标签</span>
        </a>
      </div>
    
  </nav>



        </div>
      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Gsuhy</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v3.9.0</div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.3.0</div>

        












        
      </div>
    </footer>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  </div>

  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.3.0"></script><script src="/js/motion.js?v=7.3.0"></script>
<script src="/js/schemes/muse.js?v=7.3.0"></script>
<script src="/js/next-boot.js?v=7.3.0"></script>



  





















  

  

  

</body>
</html>
